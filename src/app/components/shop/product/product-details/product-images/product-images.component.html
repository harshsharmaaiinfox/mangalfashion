<div class="container-fluid-lg">
  <div class="row">
    <div class="col-12">
      <div class="row g-4">
        <div class="col-xl-6">
          <div class="product-left-box">
            <div class="product-label-group">
              <div class="product-label-tag" *ngIf="product?.is_sale_enable else featured">
                <span>{{ 'sale' | translate }}</span></div>
              <ng-template #featured>
                <div class="product-label-tag warning-label-tag" *ngIf="product?.is_featured">
                  <span>{{ 'featured' | translate }}</span></div>
              </ng-template>
            </div>
            <!-- Main Product Image - Full Size -->
            <div class="product-main-image-wrapper">
              <div class="slider-image product-main-image d-flex align-items-center justify-content-center">
                <ng-container *ngIf="product?.product_galleries?.length && product.product_galleries?.[0] as firstImage; else noGallery">
                  <ng-container *ngIf="firstImage && videType.includes(firstImage?.mime_type || ''); else checkAudio">
                    <i class="ri-video-line"></i>
                    <video class="w-100 h-100" controls>
                      <source [src]="firstImage?.original_url || ''" [type]="firstImage?.mime_type || ''">
                    </video>
                  </ng-container>
                  <ng-template #checkAudio>
                    <ng-container *ngIf="firstImage && audioType.includes(firstImage?.mime_type || ''); else showImage">
                      <audio controls>
                        <source [src]="firstImage?.original_url || ''" [type]="firstImage?.mime_type || ''">
                      </audio>
                    </ng-container>
                    <ng-template #showImage>
                      <img appLazyLoad
                           [src]="firstImage?.original_url || 'assets/images/product.png'"
                           class="img-fluid product-full-image lazy-loading"
                           [alt]="product?.name || 'Product'"
                           placeholder="assets/images/placeholder.png">
                    </ng-template>
                  </ng-template>
                </ng-container>
                <ng-template #noGallery>
                  <ng-container *ngIf="product?.product_thumbnail && videType.includes(product.product_thumbnail?.mime_type || ''); else checkThumbnailAudio">
                    <i class="ri-video-line"></i>
                    <video class="w-100 h-100" controls>
                      <source [src]="product.product_thumbnail?.original_url || ''" [type]="product.product_thumbnail?.mime_type || ''">
                    </video>
                  </ng-container>
                  <ng-template #checkThumbnailAudio>
                    <ng-container *ngIf="product?.product_thumbnail && audioType.includes(product.product_thumbnail?.mime_type || ''); else showThumbnailImage">
                      <audio controls>
                        <source [src]="product.product_thumbnail?.original_url || ''" [type]="product.product_thumbnail?.mime_type || ''">
                      </audio>
                    </ng-container>
                    <ng-template #showThumbnailImage>
                      <img appLazyLoad
                           [src]="product?.product_thumbnail?.original_url || 'assets/images/product.png'"
                           class="img-fluid product-full-image lazy-loading"
                           [alt]="product?.name || 'Product'"
                           placeholder="assets/images/placeholder.png">
                    </ng-template>
                  </ng-template>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-6">
          <div class="right-box-contain">
            <app-product-contain [product]="product" [option]="option"></app-product-contain>
            <app-product-action [product]="product"></app-product-action>
            <!-- Product Information and Delivery Details in Row -->
            <div class="row g-2 product-info-delivery-row">
              <div class="col-md-6">
                <app-product-information [product]="product"></app-product-information>
              </div>
              <div class="col-md-6">
                <app-product-delivery-information [product]="product"></app-product-delivery-information>
              </div>
            </div>
            <app-payment-option [product]="product" [option]="option"></app-payment-option>
            <app-product-social-share [product]="product" [option]="option"></app-product-social-share>
          </div>
        </div>
        <div class="col-12 related-product-2"
          *ngIf="product?.cross_sell_products && product?.cross_sell_products?.length">
          <app-product-bundle [product]="product"></app-product-bundle>
        </div>
        <div class="m-auto col-lg-9">
          <app-product-details-tabs [product]="product"></app-product-details-tabs>
        </div>
      </div>
    </div>
  </div>
</div>